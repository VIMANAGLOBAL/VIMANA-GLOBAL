<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="uk">
<head>
<!-- Generated by javadoc (11) on Mon Oct 01 11:17:07 EEST 2018 -->
<title>vimryptoExt (vimrypto lib 1.2.1-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2018-10-01">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="vimryptoExt (vimrypto lib 1.2.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/vimryptoExt.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.vimana.cryptolib</a></div>
<h2 title="Interface vimryptoExt" class="title">Interface vimryptoExt</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="impl/ExtJCEImpl.html" title="class in io.vimana.cryptolib.impl">ExtJCEImpl</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">vimryptoExt</span></pre>
<div class="block">This interface provides some weak encryption
 and strong signature of encrypted message. The purpose is sending of signed message
 to many recipients.
 ATTENTION!!! Public key is used for encryption and decryption alongside with 
 pre-shared secret (salt) known to sender and all recipients.
 It means that Alice takes her publick key, "salts" it with pre-shared secret,
 puts it in key derivation function and gets symmetric key and IV (256 bits on key + N bits of iv).
 Then this symmetric key is used by all participants to encrypt and decrypt message.
 Message is signed by sender with his private key and can be verified with sender's
 public key. Exception CryptoNotValidException is thrown in signature can not be verified</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>alukin@gmail.com</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reverseSchemeDecryptAndVerify(byte%5B%5D,byte%5B%5D)">reverseSchemeDecryptAndVerify</a></span>&#8203;(byte[]&nbsp;encrypted_and_signed,
                             byte[]&nbsp;preSharedSecret)</code></th>
<td class="colLast">
<div class="block">Decrypts message with derived from sender's public key and pre-shaered secret.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reverseSchemeEncryptAndSign(byte%5B%5D,byte%5B%5D)">reverseSchemeEncryptAndSign</a></span>&#8203;(byte[]&nbsp;plain,
                           byte[]&nbsp;preSharedSecret)</code></th>
<td class="colLast">
<div class="block">Encrypts message with derived from sender's public key and pre-shaered secret.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAsymmetricKeys(java.security.PublicKey,java.security.PrivateKey,java.security.PublicKey)">setAsymmetricKeys</a></span>&#8203;(java.security.PublicKey&nbsp;ourPubkey,
                 java.security.PrivateKey&nbsp;privKey,
                 java.security.PublicKey&nbsp;theirPubKey)</code></th>
<td class="colLast">
<div class="block">Sets asymetric keys</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSymmetricIV(byte%5B%5D)">setSymmetricIV</a></span>&#8203;(byte[]&nbsp;IV)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSymmetricKey(byte%5B%5D)">setSymmetricKey</a></span>&#8203;(byte[]&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Set key for AES/GCM which is used for symmetrical encryption.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSymmetricNounce(byte%5B%5D)">setSymmetricNounce</a></span>&#8203;(byte[]&nbsp;explicit_nounce)</code></th>
<td class="colLast">
<div class="block">set 8 bits of variable part of GCM IV</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSymmetricSalt(byte%5B%5D)">setSymmetricSalt</a></span>&#8203;(byte[]&nbsp;salt)</code></th>
<td class="colLast">
<div class="block">Set 4 bytes of salt, fixed part of GCM IV</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setSymmetricKey(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSymmetricKey</h4>
<pre class="methodSignature">void&nbsp;setSymmetricKey&#8203;(byte[]&nbsp;key)
              throws <a href="exception/CryptoNotValidException.html" title="class in io.vimana.cryptolib.exception">CryptoNotValidException</a></pre>
<div class="block">Set key for AES/GCM which is used for symmetrical encryption.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - then 128 or 256 bits of key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/CryptoNotValidException.html" title="class in io.vimana.cryptolib.exception">CryptoNotValidException</a></code></dd>
</dl>
</li>
</ul>
<a id="setSymmetricIV(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSymmetricIV</h4>
<pre class="methodSignature">void&nbsp;setSymmetricIV&#8203;(byte[]&nbsp;IV)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>IV</code> - Initialization vector variable part, 4+8=12 bytes, or salt and
 explicit_nounce used to init GCM. So it could be 4 bytes of "fixed"
 nounce or full 12 bytes. In case of 4 bytes random 8 bytes generated for
 nonce_explicit From RFC 5288: AES-GCM security requires that the counter
 is never reused. The IV construction in Section 3 is designed to prevent
 counter reuse. Implementers should also understand the practical
 considerations of IV handling outlined in Section 9 of [GCM]. In this
 class IV is 12 bytes as defined in RFC 5116 struct { opaque salt[4];
 opaque nonce_explicit[8]; } GCMNonce; Salt is "fixed" part of IV and
 comes with key, nounce_explicit is "variable" part of IV and comes with
 message. So IV in this method should be 12 bytes long</dd>
</dl>
</li>
</ul>
<a id="setSymmetricSalt(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSymmetricSalt</h4>
<pre class="methodSignature">void&nbsp;setSymmetricSalt&#8203;(byte[]&nbsp;salt)</pre>
<div class="block">Set 4 bytes of salt, fixed part of GCM IV</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>salt</code> - 4 bytes array</dd>
</dl>
</li>
</ul>
<a id="setSymmetricNounce(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSymmetricNounce</h4>
<pre class="methodSignature">void&nbsp;setSymmetricNounce&#8203;(byte[]&nbsp;explicit_nounce)</pre>
<div class="block">set 8 bits of variable part of GCM IV</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>explicit_nounce</code> - 8 bit array of nounce if explicit_nounce is null
 random value is generated</dd>
</dl>
</li>
</ul>
<a id="setAsymmetricKeys(java.security.PublicKey,java.security.PrivateKey,java.security.PublicKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAsymmetricKeys</h4>
<pre class="methodSignature">void&nbsp;setAsymmetricKeys&#8203;(java.security.PublicKey&nbsp;ourPubkey,
                       java.security.PrivateKey&nbsp;privKey,
                       java.security.PublicKey&nbsp;theirPubKey)
                throws java.security.InvalidKeyException</pre>
<div class="block">Sets asymetric keys</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ourPubkey</code> - public key from our key pair</dd>
<dd><code>privKey</code> - private key from out key pair</dd>
<dd><code>theirPubKey</code> - public key of remote party</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.InvalidKeyException</code></dd>
</dl>
</li>
</ul>
<a id="reverseSchemeEncryptAndSign(byte[],byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reverseSchemeEncryptAndSign</h4>
<pre class="methodSignature">byte[]&nbsp;reverseSchemeEncryptAndSign&#8203;(byte[]&nbsp;plain,
                                   byte[]&nbsp;preSharedSecret)</pre>
<div class="block">Encrypts message with derived from sender's public key and pre-shaered secret.
 Signs with sender's private key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>plain</code> - plain text to encrypt</dd>
<dd><code>preSharedSecret</code> - 12 bytes of pre-shared secrets known to all participants</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>necrypted and signed message.</dd>
</dl>
</li>
</ul>
<a id="reverseSchemeDecryptAndVerify(byte[],byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reverseSchemeDecryptAndVerify</h4>
<pre class="methodSignature">byte[]&nbsp;reverseSchemeDecryptAndVerify&#8203;(byte[]&nbsp;encrypted_and_signed,
                                     byte[]&nbsp;preSharedSecret)
                              throws <a href="exception/CryptoNotValidException.html" title="class in io.vimana.cryptolib.exception">CryptoNotValidException</a></pre>
<div class="block">Decrypts message with derived from sender's public key and pre-shaered secret.
 Cheks signature with sender's public key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>encrypted_and_signed</code> - </dd>
<dd><code>preSharedSecret</code> - 12 bytes of  pre-shared secrets known to all participants</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>decrupted message</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="exception/CryptoNotValidException.html" title="class in io.vimana.cryptolib.exception">CryptoNotValidException</a></code> - if signature can not be verified</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/vimryptoExt.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2018. All rights reserved.</small></p>
</footer>
</body>
</html>
